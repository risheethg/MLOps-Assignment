(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7677:function(e,t,s){Promise.resolve().then(s.bind(s,3740))},3740:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var l=s(7437),r=s(2265),a=s(3464),i=s(4401),n=s(1239),c=s(8896),o=s(525),d=s(7625),x=s(8508),m=s(6940),h=s(7059),b=s(2994),p=s(8147),u=s(2190),j=s(9349);function f(e){let{metrics:t,title:s,type:r}=e,a=t.map(e=>({name:e.model,RMSE:"train"===r?e.train_rmse:e.test_rmse,MAE:"train"===r?e.train_mae:e.test_mae,"R\xb2 Score":"train"===r?e.train_r2:e.test_r2}));return(0,l.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:s}),(0,l.jsx)(d.h,{width:"100%",height:300,children:(0,l.jsxs)(x.v,{data:a,children:[(0,l.jsx)(m.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,l.jsx)(h.K,{dataKey:"name",stroke:"#9CA3AF",tick:{fill:"#9CA3AF"}}),(0,l.jsx)(b.B,{stroke:"#9CA3AF",tick:{fill:"#9CA3AF"}}),(0,l.jsx)(p.u,{content:(0,l.jsx)(e=>{let{active:t,payload:s,label:r}=e;return t&&s&&s.length?(0,l.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-xl",children:[(0,l.jsx)("p",{className:"text-white font-semibold mb-2 capitalize",children:r}),s.map((e,t)=>(0,l.jsxs)("p",{className:"text-sm",style:{color:e.color},children:[e.name,": ",e.value.toFixed(4)]},t))]}):null},{})}),(0,l.jsx)(u.D,{wrapperStyle:{color:"#fff"},iconType:"circle"}),(0,l.jsx)(j.$,{dataKey:"RMSE",fill:"#06b6d4",radius:[4,4,0,0]}),(0,l.jsx)(j.$,{dataKey:"MAE",fill:"#14b8a6",radius:[4,4,0,0]}),(0,l.jsx)(j.$,{dataKey:"R\xb2 Score",fill:"#10b981",radius:[4,4,0,0]})]})})]})}function g(e){let{metrics:t}=e,s=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===t.length)return null;let l=t.map(t=>t[e]);return s?Math.max(...l):Math.min(...l)},r=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===s(t,l)};return(0,l.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Model Comparison"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,l.jsx)("th",{className:"text-left py-3 px-4 text-slate-300 font-semibold",children:"Model"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Train RMSE"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Train MAE"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Train R\xb2"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Test RMSE"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Test MAE"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Test R\xb2"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 text-slate-300 font-semibold",children:"Run ID"})]})}),(0,l.jsx)("tbody",{children:t.map((e,t)=>(0,l.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[(0,l.jsx)("td",{className:"py-4 px-4",children:(0,l.jsx)("span",{className:"text-white font-medium capitalize bg-slate-700 px-3 py-1 rounded-full text-sm",children:e.model})}),(0,l.jsx)("td",{className:"text-right py-4 px-4 ".concat(r(e.train_rmse,"train_rmse")?"text-primary-400 font-bold":"text-slate-300"),children:e.train_rmse.toFixed(6)}),(0,l.jsx)("td",{className:"text-right py-4 px-4 ".concat(r(e.train_mae,"train_mae")?"text-primary-400 font-bold":"text-slate-300"),children:e.train_mae.toFixed(6)}),(0,l.jsx)("td",{className:"text-right py-4 px-4 ".concat(r(e.train_r2,"train_r2",!0)?"text-primary-400 font-bold":"text-slate-300"),children:e.train_r2.toFixed(6)}),(0,l.jsx)("td",{className:"text-right py-4 px-4 ".concat(r(e.test_rmse,"test_rmse")?"text-primary-400 font-bold":"text-slate-300"),children:e.test_rmse.toFixed(6)}),(0,l.jsx)("td",{className:"text-right py-4 px-4 ".concat(r(e.test_mae,"test_mae")?"text-primary-400 font-bold":"text-slate-300"),children:e.test_mae.toFixed(6)}),(0,l.jsx)("td",{className:"text-right py-4 px-4 ".concat(r(e.test_r2,"test_r2",!0)?"text-primary-400 font-bold":"text-slate-300"),children:e.test_r2.toFixed(6)}),(0,l.jsxs)("td",{className:"text-right py-4 px-4 text-slate-400 font-mono text-xs",children:[e.mlflow_run_id.substring(0,8),"..."]})]},t))})]})}),0===t.length&&(0,l.jsx)("div",{className:"text-center py-12 text-slate-400",children:"No metrics available. Train some models first!"})]})}function N(e){let{title:t,value:s,subtitle:r,icon:a,trend:i}=e;return(0,l.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 hover:border-primary-500/50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsx)("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:a}),i&&(0,l.jsx)("span",{className:"text-sm font-medium ".concat("up"===i?"text-green-400":"text-red-400"),children:"up"===i?"↑":"↓"})]}),(0,l.jsx)("h3",{className:"text-slate-400 text-sm font-medium mb-1",children:t}),(0,l.jsx)("p",{className:"text-white text-3xl font-bold mb-1",children:s}),(0,l.jsx)("p",{className:"text-slate-500 text-xs",children:r})]})}function y(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null),[h,b]=(0,r.useState)("all");(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{d(!0);let e=await a.Z.get("/metrics.json");t(e.data),m(null)}catch(e){m("Failed to fetch metrics. Please ensure metrics.json exists."),console.error("Error fetching metrics:",e)}finally{d(!1)}},u=t=>0===e.length?0:e.reduce((e,s)=>e+s[t],0)/e.length,j="all"===h?e:e.filter(e=>e.model===h),y=0===e.length?null:e.reduce((e,t)=>t.test_r2>e.test_r2?t:e);return s&&0===e.length?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-slate-300 text-lg",children:"Loading metrics..."})]})}):x&&0===e.length?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:(0,l.jsxs)("div",{className:"text-center max-w-md",children:[(0,l.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connection Error"}),(0,l.jsx)("p",{className:"text-slate-300 mb-6",children:x}),(0,l.jsx)("button",{onClick:p,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Retry Connection"})]})}):(0,l.jsx)("main",{className:"min-h-screen py-8 px-4",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,l.jsx)(i.Z,{className:"text-primary-500",size:36}),"MLOps Metrics Dashboard"]}),(0,l.jsx)("p",{className:"text-slate-400 text-lg",children:"Model Performance Analytics"})]}),(0,l.jsxs)("button",{onClick:p,className:"px-5 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors flex items-center gap-2 border border-slate-700",children:[(0,l.jsx)(n.Z,{size:18}),"Refresh"]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,l.jsx)("button",{onClick:()=>b("all"),className:"px-4 py-2 rounded-lg transition-colors ".concat("all"===h?"bg-primary-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700"),children:"All Models"}),Array.from(new Set(e.map(e=>e.model))).map(e=>(0,l.jsx)("button",{onClick:()=>b(e),className:"px-4 py-2 rounded-lg transition-colors capitalize ".concat(h===e?"bg-primary-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700"),children:e},e))]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)(N,{title:"Best Model",value:(null==y?void 0:y.model)||"N/A",subtitle:"R\xb2 Score: ".concat((null==y?void 0:y.test_r2.toFixed(4))||"N/A"),icon:(0,l.jsx)(c.Z,{className:"text-primary-400",size:24}),trend:"up"}),(0,l.jsx)(N,{title:"Avg Test RMSE",value:u("test_rmse").toFixed(4),subtitle:"Root Mean Squared Error",icon:(0,l.jsx)(i.Z,{className:"text-primary-400",size:24})}),(0,l.jsx)(N,{title:"Avg Test MAE",value:u("test_mae").toFixed(4),subtitle:"Mean Absolute Error",icon:(0,l.jsx)(o.Z,{className:"text-primary-400",size:24})}),(0,l.jsx)(N,{title:"Total Models",value:e.length.toString(),subtitle:"Tracked experiments",icon:(0,l.jsx)(n.Z,{className:"text-primary-400",size:24})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,l.jsx)(f,{metrics:j,title:"Test Set Performance",type:"test"}),(0,l.jsx)(f,{metrics:j,title:"Training Set Performance",type:"train"})]}),(0,l.jsx)(g,{metrics:j})]})})}}},function(e){e.O(0,[176,971,117,744],function(){return e(e.s=7677)}),_N_E=e.O()}]);